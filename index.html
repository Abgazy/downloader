<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª TikTok Ø¨Ø¯ÙˆÙ† Ø¹Ù„Ø§Ù…Ø© Ù…Ø§Ø¦ÙŠØ©</title>

    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
            background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            min-height:100vh;
            display:flex;
            justify-content:center;
            padding:20px
        }
        .container{
            background:#fff;
            border-radius:20px;
            box-shadow:0 20px 60px rgba(0,0,0,.3);
            padding:40px;
            max-width:600px;
            width:100%;
            margin-top:40px
        }
        h1{text-align:center;margin-bottom:10px}
        .subtitle{text-align:center;color:#666;margin-bottom:30px}
        input{
            width:100%;
            padding:15px;
            border-radius:10px;
            border:2px solid #e0e0e0;
            font-size:16px;
            direction:ltr
        }
        input:focus{
            outline:none;
            border-color:#667eea;
            box-shadow:0 0 0 3px rgba(102,126,234,.15)
        }
        .btn{
            width:100%;
            margin-top:15px;
            padding:15px;
            border:none;
            border-radius:10px;
            background:linear-gradient(135deg,#667eea,#764ba2);
            color:#fff;
            font-size:18px;
            font-weight:bold;
            cursor:pointer
        }
        .btn:disabled{background:#ccc}
        .loading,.error,.success,.result{display:none;margin-top:20px}
        .show{display:block}
        .video-preview{width:100%;margin-top:15px;border-radius:10px}
        .download-btn{
            margin-top:10px;
            width:100%;
            padding:12px;
            border:none;
            border-radius:8px;
            background:#28a745;
            color:#fff;
            font-size:16px;
            font-weight:bold;
            cursor:pointer
        }
        .error{background:#fff3cd;border:1px solid #ffc107;padding:15px;border-radius:8px}
        .success{background:#d4edda;border:1px solid #28a745;padding:15px;border-radius:8px}
    </style>
</head>

<body>
<div class="container">
    <h1>ğŸ¬ ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª TikTok</h1>
    <p class="subtitle">ØªØ­Ù…ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† Ø¹Ù„Ø§Ù…Ø© Ù…Ø§Ø¦ÙŠØ©</p>

    <input
        id="videoUrl"
        type="text"
        placeholder="Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· TikTok Ù‡Ù†Ø§"
        autocomplete="off"
    >

    <button class="btn" onclick="downloadVideo()">ØªØ­Ù…ÙŠÙ„</button>

    <div class="loading" id="loading">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©â€¦</div>
    <div class="error" id="error"></div>
    <div class="success" id="success"></div>

    <div class="result" id="result">
        <video id="videoPreview" class="video-preview" controls></video>
        <button class="download-btn" onclick="downloadFile()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</button>
    </div>
</div>

<script>
const RAPIDAPI_KEY = 'PUT_YOUR_KEY_HERE';
const RAPIDAPI_HOST = 'tiktok-download-video1.p.rapidapi.com';
let currentVideoUrl=null;

async function downloadVideo(){
    const url=document.getElementById('videoUrl').value.trim();
    if(!url){showError('Ø­Ø· Ø±Ø§Ø¨Ø· Ø£ÙˆÙ„');return}
    document.getElementById('loading').classList.add('show');

    try{
        const res=await fetch(`https://${RAPIDAPI_HOST}/getVideo?url=`+encodeURIComponent(url),{
            headers:{
                'x-rapidapi-key':RAPIDAPI_KEY,
                'x-rapidapi-host':RAPIDAPI_HOST
            }
        });
        const data=await res.json();
        document.getElementById('loading').classList.remove('show');

        if(data?.data?.play){
            currentVideoUrl=data.data.play;
            document.getElementById('videoPreview').src=currentVideoUrl;
            document.getElementById('result').classList.add('show');
            showSuccess('Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ù…ÙŠÙ„');
        }else{
            showError('Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­ Ø£Ùˆ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø®Ø§Øµ');
        }
    }catch(e){
        showError('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„');
    }
}

function downloadFile(){
    if(!currentVideoUrl)return;
    const a=document.createElement('a');
    a.href=currentVideoUrl;
    a.download='tiktok.mp4';
    a.click();
}

function showError(msg){
    const e=document.getElementById('error');
    e.textContent=msg;
    e.classList.add('show');
}
function showSuccess(msg){
    const s=document.getElementById('success');
    s.textContent=msg;
    s.classList.add('show');
}
</script>
</body>
</html>
